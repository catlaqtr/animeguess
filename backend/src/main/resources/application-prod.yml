server:
  port: ${PORT:8080}

spring:
  datasource:
    url: ${DATABASE_URL}
    username: ${DATABASE_USERNAME}
    password: ${DATABASE_PASSWORD}
    driver-class-name: org.postgresql.Driver

  jpa:
    show-sql: false

  flyway:
    enabled: true

# CORS for production
# FRONTEND_URL can contain comma-separated domains (e.g., https://animeguess.ca,https://www.animeguess.ca)
cors:
  allowed-origins: ${FRONTEND_URL:https://animeguess.ca,https://www.animeguess.ca}
  allowed-methods: GET,POST,PUT,DELETE,OPTIONS
  allowed-headers: "*"
  allow-credentials: true

# SendGrid Configuration for Production (enabled)
sendgrid:
  api-key: ${SENDGRID_API_KEY}
  from-email: ${SENDGRID_FROM_EMAIL:info@animeguess.ca}
  from-name: ${SENDGRID_FROM_NAME:Anime Guess Game}
  contact-email: ${SENDGRID_CONTACT_EMAIL:contact@animeguess.ca}
  support-email: ${SENDGRID_SUPPORT_EMAIL:support@animeguess.ca}
  enabled: true

# Logging for production
logging:
  level:
    com.anime.guessgame: INFO
    org.springframework.security: WARN
    org.hibernate.SQL: WARN

# Sentry for production
sentry:
  enabled: true
  environment: production
  traces-sample-rate: 0.25 # Sample 25% of transactions in prod to reduce quota usage

# OAuth2 Configuration for Production
oauth2:
  enabled: ${OAUTH2_ENABLED:true}

# reCAPTCHA Configuration for Production
recaptcha:
  secret-key: ${RECAPTCHA_SECRET_KEY:}
  enabled: ${RECAPTCHA_ENABLED:true}
  threshold: ${RECAPTCHA_THRESHOLD:0.5}
